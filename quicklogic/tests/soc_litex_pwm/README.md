# A test with the PWM peripheral core

This test contains a single PWM peripheral core generated by LiteX. The core is clocked by the SoC and is controlled through the wishbone bus.

The design is targeted for the Chandalar board. LEDs indicate the following:

- D2 - PWM output
- D4 - Off
- D5 - Blinks shortly on every wishbone read/write transaction
- D6 - Constantly blinking (to indicate that the design is alive)

The PWM core can be configured by the SoC firmware but also directly by writing its registers via eg. JLink.

The following sequence will configure the PWM:

```
w4 0x40020000 0x00000000

w4 0x40020014 0x00000000
w4 0x40020018 0x00000000
w4 0x4002001C 0x000000FF
w4 0x40020020 0x000000FF

w4 0x40020004 0x00000000
w4 0x40020008 0x00000000
w4 0x4002000C 0x00000010
w4 0x40020010 0x00000000

w4 0x40020000 0x00000001
```

This will enable the PWM output, set the period to FFFF and width to 1000.